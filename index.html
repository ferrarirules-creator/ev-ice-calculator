<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EV vs ICE Ownership Cost Calculator</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { 
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
    background: #f5f7fa;
    padding: 30px 20px;
    min-height: 100vh;
  }
  .container { 
    max-width: 1200px; 
    margin: 0 auto; 
    background: white; 
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    border: 1px solid #e5e7eb;
  }
  .header {
    background: linear-gradient(135deg, #2d8659 0%, #1e5631 100%);
    color: white;
    padding: 24px 30px;
    font-size: 26px;
    font-weight: 700;
    letter-spacing: -0.5px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
	text-align: center;
  }
  .header-subtitle {
    font-size: 14px;
    font-weight: 400;
    opacity: 0.9;
    margin-top: 4px;
	text-align: center;
  }
  table { 
    width: 100%; 
    border-collapse: collapse; 
  }
  td { 
    border: 1px solid #e5e7eb;
    padding: 12px 16px; 
    font-size: 14px;
    transition: background-color 0.2s ease;
  }
  .section-header {
    background: linear-gradient(135deg, #34a853 0%, #2d8659 100%);
    color: white;
    font-weight: 600;
    padding: 14px 16px;
    font-size: 15px;
    letter-spacing: 0.3px;
    text-transform: uppercase;
    font-size: 13px;
  }
  .label-cell {
    background: #f9fafb;
    font-weight: 500;
    width: 30%;
    color: #374151;
  }
  .input-cell {
    background: white;
    padding: 6px 12px;
    position: relative;
  }
  .input-cell:hover {
    background: #f9fafb;
  }
  .computed-cell {
    background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
    font-weight: 600;
    text-align: center;
    color: #1b5e20;
  }
  .highlight-cell {
    background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
    font-weight: 700;
    text-align: center;
    color: #f57f17;
    font-size: 15px;
  }
  .center-header {
    background: linear-gradient(135deg, #81c784 0%, #66bb6a 100%);
    font-weight: 600;
    text-align: center;
    color: white;
    font-size: 13px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
    /* Positive/Negative conditional colors */
  .positive-value {
    background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%) !important;
    color: #155724 !important;
  }
  .negative-value {
    background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%) !important;
    color: #721c24 !important;
  }

  input::placeholder {
    color: #9ca3af;
    font-style: italic;
    opacity: 0.8;
  }

  input:focus::placeholder {
    opacity: 0.5;
  }

  input {
    width: 100%;
    border: 2px solid transparent;
    background: transparent;
    font-size: 14px;
    font-family: inherit;
    padding: 6px;
    text-align: center;
    border-radius: 6px;
    transition: all 0.2s ease;
  }
  input:focus {
    outline: none;
    border-color: #34a853;
    background: #f0f9f4;
  }
  input:hover {
    background: #fafafa;
  }
  .input-with-suffix {
    position: relative;
  }
  .input-with-suffix input {
    padding-right: 28px;
  }
  .input-with-suffix::after {
    content: '%';
    position: absolute;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    color: #34a853;
    font-weight: 600;
  }
  .result-label {
    background: #f3f4f6;
    font-weight: 600;
    color: #4b5563;
  }
  .empty-row td {
    border: none;
    padding: 8px;
    background: white;
  }
  .mono {
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
    font-size: 13px;
  }

  @media (max-width: 768px) {
    body { padding: 15px 10px; }
    .header { padding: 20px; font-size: 22px; }
    td { padding: 10px 12px; font-size: 13px; }
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .container { animation: fadeIn 0.5s ease-out; }

  tr:hover td { background-color: rgba(46, 125, 50, 0.02); }
  tr:hover .label-cell { background-color: #f0f9f4; }
  
  /* Positive/Negative conditional colors */
  .positive-value {
    background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%) !important;
    color: #155724 !important;
  }
  .negative-value {
    background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%) !important;
    color: #721c24 !important;
  }
</style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js">

// Download calculator as image using html2canvas
function downloadAsImage() {
  const button = document.getElementById('downloadBtn');
  const originalText = button.textContent;

  // Update button state
  button.textContent = '‚è≥ Generating image...';
  button.disabled = true;
  button.style.cursor = 'wait';

  // Get the table element
  const table = document.querySelector('table');

  // Use html2canvas to convert table to image
  html2canvas(table, {
    backgroundColor: '#f5f5f5',
    scale: 2,  // High quality (2x resolution)
    logging: false,
    useCORS: true,
    allowTaint: true,
    windowWidth: table.scrollWidth,
    windowHeight: table.scrollHeight
  }).then(function(canvas) {
    // Convert canvas to image data URL
    const imgData = canvas.toDataURL('image/png');

    // Create temporary download link
    const link = document.createElement('a');

    // Generate filename with current date
    const now = new Date();
    const dateStr = now.getFullYear() + '-' + 
                    (now.getMonth()+1).toString().padStart(2,'0') + '-' + 
                    now.getDate().toString().padStart(2,'0');
    const filename = 'EV-vs-ICE-Comparison-' + dateStr + '.png';

    link.download = filename;
    link.href = imgData;

    // Trigger download
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);

    // Success feedback
    button.textContent = '‚úì Downloaded Successfully!';
    button.style.background = 'linear-gradient(135deg, #4caf50 0%, #45a049 100%)';
    button.style.cursor = 'pointer';

    // Reset button after 2 seconds
    setTimeout(function() {
      button.textContent = originalText;
      button.style.background = 'linear-gradient(135deg, #34a853 0%, #2d8659 100%)';
      button.disabled = false;
    }, 2000);

  }).catch(function(error) {
    // Error handling
    console.error('Error generating image:', error);

    button.textContent = '‚ùå Error - Please try again';
    button.style.background = '#d32f2f';
    button.style.cursor = 'pointer';
    button.disabled = false;

    // Reset button after 3 seconds
    setTimeout(function() {
      button.textContent = originalText;
      button.style.background = 'linear-gradient(135deg, #34a853 0%, #2d8659 100%)';
    }, 3000);
  });
}
</script>
</head>
<body>

<div class="container">
  <div class="header">
    EV vs ICE Ownership Cost Calculator
    <div class="header-subtitle">Compare lifetime Ownership costs and savings between Electric and ICE vehicles</div>
  </div>

  <table>
    <!-- Driving Parameters -->
    <tr><td colspan="5" class="section-header">üöó Driving Parameters</td></tr>
    <tr>
      <td class="label-cell"></td>
      <td class="center-header" colspan="2">City</td>
      <td class="center-header" colspan="2">Highway</td>
    </tr>
    <tr>
      <td class="label-cell">What is your driving split? (%)</td>
      <td class="input-cell input-with-suffix" colspan="2"><input type="text" id="cityShare" placeholder="80"></td>
      <td class="input-cell input-with-suffix" colspan="2"><input type="text" id="hwyShare" placeholder="20"></td>
    </tr>
    <tr>
      <td class="label-cell">What is your monthly running? (in kms)</td>
      <td class="input-cell" colspan="4"><input type="text" id="monthlyKm" placeholder="e.g., 1,000"></td>
    </tr>
    <tr>
      <td class="label-cell">Ownership Duration in years</td>
      <td class="input-cell" colspan="4"><input type="text" id="years" placeholder="7"></td>
    </tr>
    <tr>
      <td class="label-cell">Select State/UT</td>
      <td class="input-cell" colspan="4">
        <select id="stateSelect" style="width: 100%; padding: 8px; border: 2px solid #34a853; border-radius: 6px; font-size: 14px; font-family: inherit; background: white; cursor: pointer; text-align: center; text-align-last: center;">
          <option value="">-- Select your state --</option>
          <option value="Andaman & Nicobar">Andaman & Nicobar</option>
          <option value="Andhra Pradesh">Andhra Pradesh</option>
          <option value="Arunachal Pradesh">Arunachal Pradesh</option>
          <option value="Assam">Assam</option>
          <option value="Bihar">Bihar</option>
          <option value="Chandigarh (UT)">Chandigarh (UT)</option>
          <option value="Chhattisgarh">Chhattisgarh</option>
          <option value="Dadra & Nagar Haveli">Dadra & Nagar Haveli</option>
          <option value="Delhi">Delhi</option>
          <option value="Goa">Goa</option>
          <option value="Gujarat">Gujarat</option>
          <option value="Haryana">Haryana</option>
          <option value="Himachal Pradesh">Himachal Pradesh</option>
          <option value="Jammu & Kashmir">Jammu & Kashmir</option>
          <option value="Jharkhand">Jharkhand</option>
          <option value="Karnataka">Karnataka</option>
          <option value="Kerala">Kerala</option>
          <option value="Ladakh">Ladakh</option>
          <option value="Lakshadweep">Lakshadweep</option>
          <option value="Madhya Pradesh">Madhya Pradesh</option>
          <option value="Maharashtra">Maharashtra</option>
          <option value="Manipur">Manipur</option>
          <option value="Meghalaya">Meghalaya</option>
          <option value="Mizoram">Mizoram</option>
          <option value="Nagaland">Nagaland</option>
          <option value="Odisha">Odisha</option>
          <option value="Puducherry">Puducherry</option>
          <option value="Punjab">Punjab</option>
          <option value="Rajasthan">Rajasthan</option>
          <option value="Sikkim">Sikkim</option>
          <option value="Tamil Nadu">Tamil Nadu</option>
          <option value="Telangana">Telangana</option>
          <option value="Tripura">Tripura</option>
          <option value="Uttar Pradesh">Uttar Pradesh</option>
          <option value="Uttarakhand">Uttarakhand</option>
          <option value="West Bengal">West Bengal</option>
        </select>
      </td>
    </tr>

    


    <tr class="empty-row"><td colspan="5"></td></tr>

    <!-- Vehicle Details -->
    <tr><td colspan="5" class="section-header">üöó Vehicle Details</td></tr>
    <tr>
      <td class="label-cell"></td>
      <td class="center-header" colspan="2">Electric Vehicle‚ö°</td>
      <td class="center-header" colspan="2">ICE Vehicle ‚õΩ</td>
    </tr>
    <tr>
      <td class="label-cell">Vehicle Name</td>
      <td class="input-cell" colspan="2"><input type="text" style="text-align: center;" id="evName" placeholder="e.g., Tata Nexon EV"></td>
      <td class="input-cell" colspan="2"><input type="text" style="text-align: center;" id="iceName" placeholder="e.g., Tata Nexon Petrol"></td>
    </tr>
    <tr>
      <td class="label-cell">Fuel Type</td>
      <td class="input-cell" colspan="2"></td>
      <td class="input-cell" colspan="2">
        <select id="fuelTypeSelect" style="width: 100%; padding: 8px; border: 2px solid #34a853; border-radius: 6px; font-size: 14px; font-family: inherit; background: white; cursor: pointer; text-align: center; text-align-last: center;">
          <option value="petrol">Petrol</option>
          <option value="diesel">Diesel</option>
        </select>
      </td>
    </tr>

    <tr>
      <td class="label-cell">Ex-Showroom Price (‚Çπ)</td>
      <td class="input-cell" colspan="2"><input type="text" id="evEx" placeholder="e.g., 15,00,000"></td>
      <td class="input-cell" colspan="2"><input type="text" id="iceEx" placeholder="e.g., 12,00,000"></td>
    </tr>
    <tr>
      <td class="label-cell">Discounts (if any) (‚Çπ)</td>
      <td class="input-cell" colspan="2"><input type="text" id="evDisc" placeholder="0"></td>
      <td class="input-cell" colspan="2"><input type="text" id="iceDisc" placeholder="0"></td>
    </tr>
    <tr>
      <td class="label-cell">RTO (‚Çπ)</td>
      <td class="input-cell" colspan="2"><input type="text" id="evRto" placeholder="e.g., 16,000"></td>
      <td class="input-cell" colspan="2"><input type="text" id="iceRto" placeholder="e.g., 2,00,000"></td>
    </tr>
    <tr>
      <td class="result-label">Insurance (4.3% of Ex-Showroom)</td>
      <td class="computed-cell mono" colspan="2" id="evIns">‚Äî</td>
      <td class="computed-cell mono" colspan="2" id="iceIns">‚Äî</td>
    </tr>
    <tr>
      <td class="result-label">TCS (1% of Ex-Showroom)</td>
      <td class="computed-cell mono" colspan="2" id="evTcs">‚Äî</td>
      <td class="computed-cell mono" colspan="2" id="iceTcs">‚Äî</td>
    </tr>
    <tr>
      <td class="result-label">On-road Price</td>
      <td class="computed-cell mono" colspan="2" id="onroadEv">‚Äî</td>
      <td class="computed-cell mono" colspan="2" id="onroadIce">‚Äî</td>
    </tr>
    <tr>
      <td class="result-label">Price Delta (EV - ICE)</td>
      <td class="highlight-cell mono" colspan="4" id="delta">‚Äî</td>
    </tr>

    <tr class="empty-row"><td colspan="5"></td></tr>

    <!-- Running Cost -->
    <tr><td colspan="5" class="section-header">‚ö° Running Costs</td></tr>
    <tr>
      <td class="label-cell"></td>
      <td class="center-header">‚ö° City</td>
      <td class="center-header">‚ö° Highway</td>
      <td class="center-header">‚õΩ City</td>
      <td class="center-header">‚õΩ Highway</td>
    </tr>
    <tr>
      <td class="label-cell">Fuel (‚Çπ/L) / Electricity (‚Çπ/kWh)</td>
      <td class="input-cell"><input type="text" id="ePriceCity" placeholder="8"></td>
      <td class="input-cell"><input type="text" id="ePriceHwy" placeholder="21"></td>
      <td class="input-cell"><input type="text" id="petrolCity" placeholder="e.g., 95"></td>
      <td class="input-cell"><input type="text" id="petrolHwy" placeholder="e.g., 95"></td>
    </tr>
    <tr>
      <td class="label-cell">Efficiency (km/kWh) / Economy (km/L)</td>
      <td class="input-cell"><input type="text" id="evEffCity" placeholder="8"></td>
      <td class="input-cell"><input type="text" id="evEffHwy" placeholder="7"></td>
      <td class="input-cell"><input type="text" id="iceCity" placeholder="10"></td>
      <td class="input-cell"><input type="text" id="iceHwy" placeholder="14"></td>
    </tr>
    <tr>
      <td class="result-label">Running cost per km (‚Çπ)</td>
      <td class="computed-cell mono" id="evCostCity">‚Äî</td>
      <td class="computed-cell mono" id="evCostHwy">‚Äî</td>
      <td class="computed-cell mono" id="iceCostCity">‚Äî</td>
      <td class="computed-cell mono" id="iceCostHwy">‚Äî</td>
    </tr>
    <tr>
      <td class="result-label">Monthly Running cost (‚Çπ)</td>
      <td class="computed-cell mono" id="evMonthCity">‚Äî</td>
      <td class="computed-cell mono" id="evMonthHwy">‚Äî</td>
      <td class="computed-cell mono" id="iceMonthCity">‚Äî</td>
      <td class="computed-cell mono" id="iceMonthHwy">‚Äî</td>
    </tr>
    <tr>
      <td class="label-cell"></td>
      <td class="center-header" colspan="2">EV Total ‚ö°</td>
      <td class="center-header" colspan="2">ICE Total ‚õΩ</td>
    </tr>

    <tr>
      <td class="result-label">Total Monthly running cost (‚Çπ)</td>
      <td class="computed-cell mono" colspan="2" id="evTotal">‚Äî</td>
      <td class="computed-cell mono" colspan="2" id="iceTotal">‚Äî</td>
    </tr>
    <tr>
      <td class="result-label">Monthly Savings (‚Çπ)</td>
      <td class="highlight-cell mono" colspan="4" id="saveMo">‚Äî</td>
    </tr>

    <tr class="empty-row"><td colspan="5"></td></tr>

    <!-- Investment Savings -->
    <tr><td colspan="5" class="section-header">üí∞ Investment Returns on Fuel Savings</td></tr>
    <tr>
      <td class="label-cell">Risk Level</td>
      <td class="center-header">Low (RD)</td>
      <td class="center-header">Medium (Debt)</td>
      <td class="center-header" colspan="2">High (Equity/MF)</td>
    </tr>
    <tr>
      <td class="label-cell">Rate of Interest (%)</td>
      <td class="input-cell input-with-suffix"><input type="text" id="roiLow" value="6.5"></td>
      <td class="input-cell input-with-suffix"><input type="text" id="roiMed" value="9"></td>
      <td class="input-cell input-with-suffix" colspan="2"><input type="text" id="roiHigh" value="12"></td>
    </tr>
    <tr>
      <td class="label-cell">Tenure (months) - Auto-synced with years</td>
      <td class="computed-cell mono" colspan="4" id="months">84</td>
    </tr>
    <tr>
      <td class="result-label">Maturity value (‚Çπ)</td>
      <td class="computed-cell mono" id="matLow">‚Äî</td>
      <td class="computed-cell mono" id="matMed">‚Äî</td>
      <td class="computed-cell mono" colspan="2" id="matHigh">‚Äî</td>
    </tr>

    <tr class="empty-row"><td colspan="5"></td></tr>

    <!-- Loan Interest -->
    <tr><td colspan="5" class="section-header">üí≥ Loan on Price Delta</td></tr>
    <tr>
      <td class="label-cell">Loan Rate of Interest (%)</td>
      <td class="input-cell input-with-suffix" colspan="4"><input type="text" id="loanRoi" value="8.75"></td>
    </tr>
    <tr>
      <td class="label-cell">Tenure (months)</td>
      <td class="input-cell" colspan="4"><input type="text" id="loanTenure" value="60"></td>
    </tr>
    <tr>
      <td class="result-label">Interest Paid (‚Çπ)</td>
      <td class="computed-cell mono" colspan="4" id="loanInt">‚Äî</td>
    </tr>
    <tr>
      <td class="result-label">Total amount paid (‚Çπ)</td>
      <td class="computed-cell mono" colspan="4" id="loanTot">‚Äî</td>
    </tr>

    <tr class="empty-row"><td colspan="5"></td></tr>

    <!-- Total Savings -->
	<tr><td colspan="5" class="section-header">üìà Savings without Depreciation</td></tr>
    <tr>
      <td class="label-cell">Investment Scenario</td>
      <td class="center-header">Low (RD)</td>
      <td class="center-header">Medium (Debt)</td>
      <td class="center-header" colspan="2">High (Equity/MF)</td>
    </tr>
    <tr>
      <td class="result-label">Savings (Investment - Loan) (‚Çπ)</td>
      <td class="highlight-cell mono" id="savLow">‚Äî</td>
      <td class="highlight-cell mono" id="savMed">‚Äî</td>
      <td class="highlight-cell mono" colspan="2" id="savHigh">‚Äî</td>
    </tr>

    <tr class="empty-row"><td colspan="5"></td></tr>

    <!-- Depreciation -->
    <tr><td colspan="5" class="section-header">üìâ Depreciation & Resale Value</td></tr>
    <tr>
      <td class="label-cell"></td>
      <td class="center-header" colspan="2">Electric Vehicle </td>
      <td class="center-header" colspan="2">ICE Vehicle ‚õΩ</td>
    </tr>
    <tr>
      <td class="label-cell">Depreciation rate per year (%)</td>
      <td class="input-cell input-with-suffix" colspan="2"><input type="text" id="depEv" value="20"></td>
      <td class="input-cell input-with-suffix" colspan="2"><input type="text" id="depIce" value="15"></td>
    </tr>
    <tr>
      <td class="result-label">Residual Value after <span id="yearsDisplay">7</span> years (‚Çπ)</td>
      <td class="computed-cell mono" colspan="2" id="resEv">‚Äî</td>
      <td class="computed-cell mono" colspan="2" id="resIce">‚Äî</td>
    </tr>
    <tr>
      <td class="result-label">Resale Value Delta (ICE - EV) (‚Çπ)</td>
      <td class="highlight-cell mono" colspan="4" id="deltaRes">‚Äî</td>
    </tr>

    <tr class="empty-row"><td colspan="5"></td></tr>

    <!-- Final Results -->
    <tr><td colspan="5" class="section-header">üéØ Final <span id="yearsDisplay2">7</span>-Year Outcome</td></tr>
    <tr>
      <td class="label-cell">Investment Scenario</td>
      <td class="center-header">Low (RD)</td>
      <td class="center-header">Medium (Debt)</td>
      <td class="center-header" colspan="2">High (Equity/MF)</td>
    </tr>
    <tr>
      <td class="result-label">Overall Net Savings (‚Çπ)</td>
      <td class="highlight-cell mono" id="overallLow" style="font-size: 16px;">‚Äî</td>
      <td class="highlight-cell mono" id="overallMed" style="font-size: 16px;">‚Äî</td>
      <td class="highlight-cell mono" colspan="2" id="overallHigh" style="font-size: 16px;">‚Äî</td>
    </tr>
  
</table>

<!-- Download as Image Button -->
<div style="text-align: center; margin: 20px 0;">
  <button id="downloadBtn" onclick="downloadAsImage()" style="
    background: linear-gradient(135deg, #34a853 0%, #2d8659 100%);
    color: white;
    border: none;
    padding: 14px 32px;
    font-size: 16px;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    font-family: inherit;
  " onmouseover="this.style.transform='scale(1.05)'; this.style.boxShadow='0 6px 12px rgba(0,0,0,0.15)'"
     onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.1)'">
    üì∏ Download Comparison as Image
  </button>
  <p style="font-size: 12px; color: #666; margin-top: 8px; font-family: Arial, sans-serif;">
    Save your EV vs ICE comparison as a PNG image to share or keep for reference
  </p>
</div>
